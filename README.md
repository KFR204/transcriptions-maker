# Transcriptions Maker

Веб-приложение для создания транскрипций видео с YouTube и Twitter/X с использованием Google Gemini API.

## Возможности

- Создание транскрипций видео с YouTube и Twitter/X
- Автоматическое определение платформы по URL
- Извлечение реальных заголовков видео для лучшего именования файлов
- Поддержка длинных аудио с автоматическим разделением на сегменты
- Возможность скачивания транскрипций в формате TXT
- Современный и удобный пользовательский интерфейс

## Технологии

- **Серверная часть**: Node.js, Express.js
- **Клиентская часть**: HTML, CSS, JavaScript, Bootstrap 5
- **API**: Google Gemini API для транскрипции
- **Инструменты для работы с медиа**: yt-dlp, ffmpeg

## Предварительные требования

1. **Node.js** и **npm** - [скачать и установить](https://nodejs.org/)
2. **yt-dlp** - [скачать](https://github.com/yt-dlp/yt-dlp/releases) и поместить в корневую директорию проекта или добавить в PATH (уже включен в проект)
3. **ffmpeg** - уже включен в проект через пакет ffmpeg-static

## Установка

1. Клонировать репозиторий:
   ```
   git clone https://github.com/your-username/transcriptions-maker.git
   cd transcriptions-maker
   ```

2. Установить зависимости:
   ```
   npm install
   ```

3. Скачать yt-dlp:
   - Для Windows: скачайте [yt-dlp.exe](https://github.com/yt-dlp/yt-dlp/releases) и поместите в корневую директорию проекта (уже включен в проект)
   - Для Linux/Mac: установите через пакетный менеджер или скачайте бинарный файл и добавьте в PATH

4. Создать файл `.env` в корневой директории проекта на основе `.env.example`:
   ```
   # Скопируйте .env.example в .env и заполните своими значениями
   cp .env.example .env
   # Затем отредактируйте файл .env и добавьте свой API ключ Gemini
   ```

5. Настройте следующие переменные в файле `.env`:
   ```
   PORT=5000                              # Порт для веб-сервера
   GEMINI_API_KEY=ваш_ключ_api            # API ключ Google Gemini
   GEMINI_MODEL=gemini-2.5-pro            # Модель Gemini для транскрипции

   MAX_SIZE=60                            # Максимальный размер аудиофайла в МБ для прямой отправки
   SEGMENT_SIZE=2000                      # Размер сегмента в секундах при разделении больших файлов

   USE_PROXY=false                        # Использовать ли прокси (true/false)
   PROXY_URL=http://user:pass@host:port   # URL прокси-сервера
   ```

6. Создайте файл `cookies.json`:

1. **Экспорт куки из браузера**:
   - Установите расширение для экспорта куки (например, "EditThisCookie" для Chrome)
   - Войдите в свой аккаунт YouTube
   - Экспортируйте куки в формате JSON

2. **Создание файла**:
   - Создайте файл `cookies.json` в корневой директории проекта
   - Вставьте экспортированные куки в этот файл
   - Убедитесь, что файл содержит массив объектов куки в формате:
   ```json
   [
     {
       "domain": ".youtube.com",
       "expirationDate": 1789581458.995678,
       "hostOnly": false,
       "httpOnly": false,
       "name": "COOKIE_NAME",
       "path": "/",
       "sameSite": "unspecified",
       "secure": true,
       "session": false,
       "storeId": "0",
       "value": "COOKIE_VALUE"
     },
     ...
   ]
   ```
6. Запустить приложение:
   ```
   npm start
   ```

7. Открыть в браузере: `http://localhost:5000`

## Использование

1. Введите URL видео с YouTube или Twitter/X в текстовое поле
2. Нажмите кнопку "Create Transcription"
3. Дождитесь завершения обработки
4. Просмотрите полученную транскрипцию
5. При необходимости скопируйте или скачайте результат

## Примечания

- Для работы с Twitter/X требуется установленный yt-dlp
- Для обработки аудио используется ffmpeg
- Максимальный размер файла и размер сегмента можно настроить в файле .env
